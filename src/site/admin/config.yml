backend:
  name: git-gateway
  branch: master

# Media files will be stored in the repo under src/site/img/uploads
media_folder: "src/site/img/uploads"
public_folder: "/img/uploads"

collections:
  # News/Blog collection
  - name: "blog"
    label: "News & Updates"
    folder: "src/site/blog"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Publish Date"
        name: "date"
        widget: "datetime"
        hint: "The date when this post will be published"
      - label: "Published"
        name: "published"
        widget: "boolean"
        default: false
        hint: "Post must be published AND past its publish date to appear on the live site"
      - label: "Featured Image"
        name: "image"
        widget: "image"
        required: false
      - label: "Summary"
        name: "summary"
        widget: "text"
        required: false
        hint: "A brief summary for listings and social sharing"
      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        hint: "Comma-separated tags"
      - label: "Body"
        name: "body"
        widget: "markdown"

  # Site settings (single files)
  - name: "settings"
    label: "Settings"
    files:
      - name: "general"
        label: "General Settings"
        file: "src/site/_data/settings.json"
        fields:
          - label: "Site Title"
            name: "title"
            widget: "string"
            default: "BASIK - Build A School In Kenya"
          - label: "Site Description"
            name: "description"
            widget: "text"
          - label: "Contact Email"
            name: "email"
            widget: "string"
            default: "info@basik.org.uk"
          - label: "JustGiving URL"
            name: "justgivingUrl"
            widget: "string"
            default: "https://www.justgiving.com/basikuk"
          - label: "Facebook URL"
            name: "facebookUrl"
            widget: "string"
            default: "https://www.facebook.com/BuildSchoolsEndPoverty"

      - name: "homepage"
        label: "Homepage"
        file: "src/site/_data/homepage.json"
        fields:
          - label: "Hero Section"
            name: "hero"
            widget: "object"
            fields:
              - label: "Background Image"
                name: "backgroundImage"
                widget: "image"
              - label: "Announcement Text"
                name: "announcementText"
                widget: "string"
                hint: "Text shown in the banner above the headline"
              - label: "Announcement Link"
                name: "announcementLink"
                widget: "string"
                hint: "URL for the announcement banner"
              - label: "Headline"
                name: "headline"
                widget: "string"
              - label: "Subheading"
                name: "subheading"
                widget: "markdown"
                hint: "Supports markdown for bold text etc."

          - label: "Video Section"
            name: "video"
            widget: "object"
            fields:
              - label: "Section Title"
                name: "title"
                widget: "string"
              - label: "YouTube Video ID"
                name: "youtubeId"
                widget: "string"
                hint: "Just the ID from the YouTube URL, e.g. _is2tZbvluI"

          - label: "Projects Section"
            name: "projects"
            widget: "object"
            fields:
              - label: "Section Title"
                name: "title"
                widget: "string"
              - label: "Projects"
                name: "items"
                widget: "list"
                fields:
                  - label: "Project Name"
                    name: "name"
                    widget: "string"
                  - label: "Description"
                    name: "description"
                    widget: "markdown"
                  - label: "Images"
                    name: "images"
                    widget: "list"
                    fields:
                      - label: "Image"
                        name: "src"
                        widget: "image"
                      - label: "Alt Text"
                        name: "alt"
                        widget: "string"

          - label: "Donations Section"
            name: "donations"
            widget: "object"
            fields:
              - label: "Section Title"
                name: "title"
                widget: "string"
              - label: "Introduction"
                name: "intro"
                widget: "markdown"
              - label: "Donation Options"
                name: "options"
                widget: "list"
                max: 3
                fields:
                  - label: "Title"
                    name: "title"
                    widget: "string"
                  - label: "Description"
                    name: "description"
                    widget: "markdown"
                  - label: "Button Text"
                    name: "buttonText"
                    widget: "string"
                  - label: "Button Style"
                    name: "buttonStyle"
                    widget: "select"
                    options: ["primary", "secondary"]
                    default: "primary"
